
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Filters with the IPV4 Address Space Assignment to .CO</title>
    <meta name="description" content="">

    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="shortcut icon" href="../favicon.ico">

    <link rel="stylesheet" type="text/css" href="../assets/css/screen.css?v=d34201be84">
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic%7COpen+Sans:700,400">

    <link rel="canonical" href="index.html">
    <meta name="referrer" content="origin">
    
    <meta property="og:site_name" content="c1b3rh4ck's /dev/null">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Filters with the IPV4 Address Space Assignment to .CO">
    <meta property="og:description" content="It has been a long time since I wrote my last blog post, Just a little busy with the job and my university but this last weekend I was having a rest time, meanwhile I's reading about Ipv6 addressing tips for ISP's [1] I was wondering why I didn't play">
    <meta property="og:url" content="http://localhost:2368/filters_with_the_ipv4_address_space_assignment_to_co/">
    <meta property="article:published_time" content="2015-05-05T00:52:00.002Z">
    <meta property="article:modified_time" content="2015-05-05T14:21:41.055Z">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Filters with the IPV4 Address Space Assignment to .CO">
    <meta name="twitter:description" content="It has been a long time since I wrote my last blog post, Just a little busy with the job and my university but this last weekend I was having a rest time, meanwhile I's reading about Ipv6 addressing tips for ISP's [1] I was wondering why I didn't play">
    <meta name="twitter:url" content="http://localhost:2368/filters_with_the_ipv4_address_space_assignment_to_co/">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="h3ct0rJs">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "c1b3rh4ck&#x27;s /dev/null",
        "logo": "http://localhost:2368/ghost/img/ghosticon.jpg"
    },
    "author": {
        "@type": "Person",
        "name": "h3ct0rJs",
        "image": "//www.gravatar.com/avatar/b815541780fb0fc003dd4e8556fb6115?s=250&d=mm&r=x",
        "url": "http://localhost:2368/author/h3ct0rjs/",
        "sameAs": []
    },
    "headline": "Filters with the IPV4 Address Space Assignment to .CO",
    "url": "http://localhost:2368/filters_with_the_ipv4_address_space_assignment_to_co/",
    "datePublished": "2015-05-05T00:52:00.002Z",
    "dateModified": "2015-05-05T14:21:41.055Z",
    "description": "It has been a long time since I wrote my last blog post, Just a little busy with the job and my university but this last weekend I was having a rest time, meanwhile I&#x27;s reading about Ipv6 addressing tips for ISP&#x27;s [1] I was wondering why I didn&#x27;t play"
}
    </script>

    <meta name="generator" content="Ghost 0.8">
    <link rel="alternate" type="application/rss+xml" title="c1b3rh4ck's /dev/null" href="../rss/index.html">
</head>
<body class="post-template nav-closed">

    <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="index.html#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
            <li class="nav-home" role="presentation"><a href="../">Home</a></li>
    </ul>
        <a class="subscribe-button icon-feed" href="../rss/index.rss">Subscribe</a>
</div>
<span class="nav-cover"></span>


    <div class="site-wrapper">

        


<header class="main-header post-head no-cover">
    <nav class="main-nav  clearfix">
        
            <a class="menu-button icon-menu" href="index.html#"><span class="word">Menu</span></a>
    </nav>
</header>

<main class="content" role="main">
    <article class="post">

        <header class="post-header">
            <h1 class="post-title">Filters with the IPV4 Address Space Assignment to .CO</h1>
            <section class="post-meta">
                <time class="post-date" datetime="2015-05-04">04 May 2015</time> 
            </section>
        </header>

        <section class="post-content">
            <p>It has been a long time since I wrote my last blog post, Just a little busy with the job and my university but this last weekend I was having a rest time, meanwhile I's reading about Ipv6 addressing tips for ISP's [1] I was wondering why I didn't play with the Lacnic assignments in the past, sometimes you just learn how internet in general works and you can go more deeper than it is.The Ipv4 assignments could be used to scan and check for new vulnerabities[2][3] inside a specific area or territory of the world. <br>
Trying to get more information about Colombian's ip assignments we know that internet is a big number of connections between different AS, ASs are generally Internet service providers but can also be large companies, universities, and other such organizations who act as independent entities on the Internet. These AS's are responsible for <em><strong>assigning individual IP addresses</strong></em> and routing traffic from individual machines out to and in from the wider Internet, So we want to get more information about the Ipv4 assignments and the best way to get this is going to the primary source for IP address data and it's the regional Internet registries which allocate and distribute IP addresses through organizations located in their respective service regions, This regions are: </p>

<ol>
<li>African Network Information Centre (AfriNIC)  </li>
<li>American Registry for Internet Numbers(ARIN)  </li>
<li>Asia-Pacific Network Information Centre (APNIC)  </li>
<li>Latin American and Caribbean Internet Address Registry (LACNIC)  </li>
<li>RIPE Network Coordination Centre (RIPE NCC)</li>
</ol>

<p><img src="http://upload.wikimedia.org/wikipedia/commons/thumb/9/95/Regional_Internet_Registries_world_map.svg/800px-Regional_Internet_Registries_world_map.svg.png" alt="" title="Internet Registries"> 
According to wikipedia the main aims are to : </p>

<blockquote>
  <ul>
  <li><p><em>Protect the unallocated IP number resource pool,</em></p></li>
  <li><p><em>Promote and protect the bottom-up policy development process of the Internet, and</em></p></li>
  <li><p><em>Act as a focal point for Internet community input into the RIf system.</em></p></li>
  </ul>
</blockquote>

<p>Every Regional Internet registry has it's own ftp service sharing information related to the assignments [5] and also a mirror of the other RI'r. <br>
As it's shown in the picture you can see all the content inside the /pub (public folder)</p>

<table cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;">

<tbody>

<tr>

<td style="text-align: center;">![](http://3.bp.blogspot.com/-TtmFgJrIfDA/VUVrHnEdskI/AAAAAAAAAjI/bOAD7WrQrVI/s1600/url.png)</td>

</tr>

<tr>

<td class="tr-caption" style="text-align: center;">Checking all the directory structure, assignments are in /pub/stats/region</td>

</tr>

</tbody>

</table>

<p>In my case I'm interest in all the IP addressing assignments by Lacnic and specifically my country Colombia. </p>

<p>Just get <strong><em>delegated-lacnic-extended-latest</em></strong> and <em><strong>delegated-lacnic-extended-latest.md5</strong></em> files wich are that contains all the information That we  need to play with, also notice the update history and the date in the ftp. </p>

<table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;">

<tbody>

<tr>

<td style="text-align: center;">![](http://2.bp.blogspot.com/-iglgMv4pX48/VUVw0Gnn1JI/AAAAAAAAAjY/oXObuavc694/s1600/get.png)</td>

</tr>

<tr>

<td class="tr-caption" style="text-align: center;">Getting files to play with</td>

</tr>

</tbody>

</table>

<p>So these files contains all the Latinamerican assignments including the next countries: </p>

<p><img src="http://2.bp.blogspot.com/-VJascv6q4TA/VUV0_yEMZ-I/AAAAAAAAAjk/lTFhqnyNmUs/s1600/co.png" alt="" title="">You can get this result running a simple filter and cat I like the bash way so here it is : </p>

<pre class="brush:bash">cat delegated-lacnic-extended-latest|cut -d '|' -f  2|sort |uniq &gt;country  
cat country </pre>

**_Grepping by Country:_** 
Now to get the information in what we're interests we need to filter our file by country and IPv4 the file itself has a 8 column format as is explained above: 

Column 1:Regional Internet registry (Lacnic in this case)  
Column 2:Country Code (CO)  
Column 3:Ip Class,Type Resource (ASN,IPV4,IPV6)  
Column 4:Network Begin  
Column 5:Ip Address Quantity  
Column 6:Assignment Date.  
Column 7:Organization Type  
Column 8: unknow for me. 

&gt; cat delegated-lacnic-extended-latest | grep -i "CO|IPV4"

and after that we get something like this : 

<pre class="brush:python">lacnic|CO|ipv4|66.231.64.0|4096|19870101|allocated|75710  
lacnic|CO|ipv4|131.0.136.0|1024|20140711|allocated|220116  
lacnic|CO|ipv4|131.0.168.0|1024|20140714|allocated|218493  
lacnic|CO|ipv4|131.108.168.0|1024|20140902|allocated|30093  
</pre>

<p>We can get 375 entries but how many ipv4 addresses are assigned to CO in total? <br>
off course this could be done filtering the 5 column and the IP to ASN Mapping Project </p>

<p>Team Cymru provides a number of query interfaces that allow for the mapping of IP addresses to BGP prefixes and Autonomous System Numbers (ASNs), based on BGP feeds from our 50+ BGP peers, and updated every 4 hours. This data is available through traditional WHOIS (TCP 43), DNS (UDP 53), HTTP (TCP 80), and HTTPS (TCP 443). For more information on the data available, and how to query, check out our IP to ASN Mapping Project.dding line per line in order to get the total number. </p>

<p></p><center>$ \sum _{ i=0 }^{ 375 }{eachlinei }$</center>

<pre class="brush:bash">cat Colombia.txt |cut -d '|' -f5 |awk '{s+=$1} END {printf "%.0f", s}' 

</pre>

<p><strong>17.263.593 in IPv4 assignments to Colombian Country until the last update of file.</strong> 
In this amount of IPv4 Addresses we will be pretty interest in entities that don't waste  time and money searching for you generally this type of entities are non-goverment such as universities, public schools but always without goverment asociation.Offcourse we can use a service to query for some basic AS information directly and for this I'm going to use the Team Cymru's nslookup. </p>

<blockquote>
  <p><em><a href="http://www.team-cymru.org/IP-ASN-mapping.html">The IP to ASN Mapping Project</a></em> </p>
  
  <p><em>Team Cymru provides a number of query interfaces that allow for the mapping of IP addresses to BGP prefixes and Autonomous System Numbers (ASNs), based on BGP feeds from our 50+ BGP peers, and updated every 4 hours. This data is available through traditional WHOIS (TCP 43), DNS (UDP 53), HTTP (TCP 80), and HTTPS (TCP 443). For more information on the data available, and how to query, check out our <a href="http://www.team-cymru.org/IP-ASN-mapping.html">IP to ASN Mapping Project</a></em></p>
</blockquote>

<p>Follow the steps given in the official website, using netcat is a better way to get this information, you can filter out the ips addresses using the next : </p>

<pre class="brush:bash">grep  -i 'ipv4\|ipv6' Colombia.txt|cut -d '|' -f4 &gt;ipsColombia.txt</pre>

Maybe the previous won't work because you need to map an IPv6 address or prefix to a corresponding BGP Origin ASN.if you just want the ipv4 version : 

<pre class="brush:bash">grep  -i 'ipv4' Colombia.txt|cut -d '|' -f4 &gt;ipsColombia.txt  
</pre>

<p>then add the begin and end word to the file. </p>

<pre class="brush:bash">netcat whois.cymru.com 43 &lt; ipsColombia.txt | sort -n &gt; asninfo.txt #ipv4, and ipv6  
</pre>

<p><a href="http://1.bp.blogspot.com/-d2kT-7UbwdI/VUjO48B8MCI/AAAAAAAAAkE/pIDBwkqBEPo/s1600/asinfo.png"><img src="http://1.bp.blogspot.com/-d2kT-7UbwdI/VUjO48B8MCI/AAAAAAAAAkE/pIDBwkqBEPo/s400/asinfo.png" alt="" title=""></a><em>I hope that this information could be useful , cheers</em> 
<em>c1b3rh4ck.</em> </p>

<p>References <br>
[1] 
[2] 
[3] 
[4] 
[5] ftp://ftp.lacnic.net/pub/stats 
<a href="http://cyber.law.harvard.edu/netmaps/methods.php">http://cyber.law.harvard.edu/netmaps/methods.php</a></p>
        </section>

        <footer class="post-footer">


            <figure class="author-image">
                <a class="img" href="../author/h3ct0rjs/" style="background-image: url(http://www.gravatar.com/avatar/b815541780fb0fc003dd4e8556fb6115?s&amp;)"><span class="hidden">h3ct0rJs's Picture</span></a>
            </figure>

            <section class="author">
                <h4><a href="../author/h3ct0rjs/">h3ct0rJs</a></h4>

                    <p>Read <a href="../author/h3ct0rjs/">more posts</a> by this author.</p>
                <div class="author-meta">
                    
                    
                </div>
            </section>


            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="https://twitter.com/intent/tweet?text=Filters%20with%20the%20IPV4%20Address%20Space%20Assignment%20to%20.CO&amp;url=http://localhost:2368/filters_with_the_ipv4_address_space_assignment_to_co/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:2368/filters_with_the_ipv4_address_space_assignment_to_co/" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=http://localhost:2368/filters_with_the_ipv4_address_space_assignment_to_co/" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>


        </footer>

    </article>
</main>

<aside class="read-next">
    <a class="read-next-story no-cover" href="../before_you_learn_to_code_think_about_what_you_want_to_code/">
        <section class="post">
            <h2>Before you learn to code, think about what you want to code...</h2>
            <p>Checking Quora I found an answer pointing out to this nice article [1], so I would like to keep…</p>
        </section>
    </a>
    <a class="read-next-story prev no-cover" href="../what_happends_when/">
        <section class="post">
            <h2>What Happends When...</h2>
            <p>Checking the github feed  I just found this nice link that you should read if you want to be…</p>
        </section>
    </a>
</aside>



        <footer class="site-footer clearfix">
            <section class="copyright"><a href="../">c1b3rh4ck's /dev/null</a> © 2016</section>
            <section class="poweredby">Proudly published with <a href="https://ghost.org">Ghost</a></section>
        </footer>

    </div>

    <script type="text/javascript" src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
    
    <script type="text/javascript" src="../assets/js/jquery.fitvids.js?v=d34201be84"></script>
    <script type="text/javascript" src="../assets/js/index.js?v=d34201be84"></script>

</body>
